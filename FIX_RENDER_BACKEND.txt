â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ğŸš¨ FIX RENDER BACKEND - CONFIGURE ENVIRONMENT VARIABLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEM: Backend on Render is getting 404 "User not found" because it's
not connecting to the correct database or missing environment variables.

âœ… VERIFIED: Admin accounts DO exist in production database
  - nehemiahernest3@gmail.com (admin, approved)
  - daud@kidoncho.com (admin, approved)


ğŸ”§ SOLUTION: Configure Environment Variables on Render
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STEP 1: Login to Render
  1. Go to: https://dashboard.render.com
  2. Login with your account
  3. Find your backend service: "e-commerce-backend-g1t5"


STEP 2: Open Environment Variables
  1. Click on your backend service
  2. Go to "Environment" tab (left sidebar)
  3. Click "Add Environment Variable" or "Edit"


STEP 3: Add These Environment Variables
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Copy and paste these EXACT values:

PORT
5002

BACKEND_URL
https://e-commerce-backend-g1t5.onrender.com

FRONTEND_URL
https://freshedtanzania.co.tz

MONGO_URI
mongodb+srv://ddaud2712_db_user:Kesheni%4027@freshedtz.wafuvnb.mongodb.net/ecommerce?retryWrites=true&w=majority&appName=Freshedtz

JWT_SECRET
your-super-secret-jwt-key-change-this-in-production-2024

NODE_ENV
production


STEP 4: Save and Redeploy
  1. Click "Save Changes"
  2. Render will automatically redeploy your backend
  3. Wait 2-3 minutes for deployment to complete
  4. Check the "Logs" tab to verify connection


STEP 5: Verify Deployment
  1. Go to Render Logs tab
  2. Look for:
     âœ“ "Connected to MongoDB"
     âœ“ "Server is running on port 5002"
  3. If you see these, backend is ready!


STEP 6: Test Login
  1. Go to: https://freshedtanzania.co.tz/login
  2. Login with:
     Email: daud@kidoncho.com
     Password: Daud@2712
  3. Should now work!


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ALTERNATIVE: Check Current Environment Variables
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

If variables already exist, check they match:

âœ“ MONGO_URI must be EXACTLY:
  mongodb+srv://ddaud2712_db_user:Kesheni%4027@freshedtz.wafuvnb.mongodb.net/ecommerce?retryWrites=true&w=majority&appName=Freshedtz

âœ“ FRONTEND_URL must include:
  https://freshedtanzania.co.tz

âœ“ JWT_SECRET must be set (any secure string)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Problem: Still getting "User not found"
Solution:
  1. Check Render Logs for MongoDB connection errors
  2. Verify MONGO_URI is correct (no typos!)
  3. Make sure database name is "ecommerce" (not "test" or other)
  4. Try manual redeploy from Render dashboard

Problem: Backend not deploying
Solution:
  1. Check GitHub latest commit is pushed (5f587c6)
  2. Check Render is connected to correct repo
  3. Check build logs for errors
  4. Try "Manual Deploy" > "Clear build cache & deploy"

Problem: Can't access Render dashboard
Solution:
  - Check your email for Render signup confirmation
  - Reset password if needed
  - Contact Render support


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    WHAT TO EXPECT AFTER FIX
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Once environment variables are configured:

âœ… Backend connects to correct production database
âœ… Admin login works on freshedtanzania.co.tz
âœ… All API endpoints work correctly
âœ… Real-time notifications work
âœ… Orders sync between frontend and backend


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    QUICK CHECK COMMANDS (Local)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

To verify database has admin accounts:
  cd backend
  npx ts-node src/scripts/checkUsers.ts

To recreate admin accounts if needed:
  cd backend
  npx ts-node src/scripts/ensureProductionAdmins.ts


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    ACTION REQUIRED: GO TO RENDER NOW!
        Configure environment variables to connect to database
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
